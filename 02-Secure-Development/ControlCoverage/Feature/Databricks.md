<html>
<head>

</head><body>
<H2>Databricks</H2><table><tr><th>Description & Rationale</th><th>ControlSeverity</th><th>Automated</th></tr><tr><td><b>Secrets and keys must not be in plain text in notebooks and jobs</b><br/>Keeping secrets such as connection strings, passwords, keys, etc. in clear text can lead to easy compromise. Storing them in a secert scope ensures that they are protected at rest.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Use Azure Key Vault backed secret scope to hold secrets</b><br/>Using Key Vault backed secret scopes leads to imroved protection and segregation of stored secrets.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Each secret scope should use an independent key vault</b><br/>Using a separate key vault for each secret scope leads to better segregation of access to secrets via use of scope level ACLs. If the same key vault is used for two different scopes then any person with access to either of them will be able to see keys and secrets in both. </td><td>Medium</td><td>Yes</td></tr><tr><td><b>Personal access tokens (PAT) must have a shortest possible validity period</b><br/>If a personal access token (PAT) gets compromised, the Databricks assets accessible to the user can be accessed/manipulated by unauthorized users. Minimizing the validity period of the PAT ensures that the window of time available to an attacker in the event of compromise is small.</td><td>High</td><td>Yes</td></tr><tr><td><b>All users/identities must be granted minimum required permissions using Role Based Access Control (RBAC)</b><br/>Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user account compromise.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Minimize the number of workspace admins</b><br/>Databricks workspace admins have full access on the workspace to perform any operation. Each additional person in the admin role increases the attack surface for the workspace. The number of members in these roles should be kept to as low as possible.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>All users must be granted minimum required permissions on clusters</b><br/>Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user account compromise.</td><td>Medium</td><td>No</td></tr><tr><td><b>Workspace access control should be enabled</b><br/>Enabling workspace access control allows an admin to manage fine-grained user permissions and ensures that users can perform only intended operations. This minimizes exposure of data in case of user account compromise.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Cluster access control should be enabled</b><br/>Enabling cluster access control allows admin to provide restricted access to user over cluster so that users can perform only intended operations. This minimizes exposure of data in case of user/service account compromise.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Job access control should be enabled</b><br/>Enabling job access control ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of data in case of user/service account compromise.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Do not mount any data sources that may not be required for all users in the workspace.</b><br/>Mouting a data source gives all users within the workspace access to the data from the mount point. Thus, mounting sources with sensitive data onto DBFS can lead to unauthorized access.</td><td>Medium</td><td>No</td></tr><tr><td><b>Guest accounts within the AAD tenant should not be granted admin access</b><br/>Databricks workspace admins have full access on the workspace to perform any operation. Each guest account in an admin role increases the attack surface for the workspace. Adding guest accounts as admin on workspace should be avoided.</td><td>Medium</td><td>Yes</td></tr><tr><td><b>Use of any virtual network peerings should be justified</b><br/>Resources in the peered virtual networks can communicate with each other directly. If the two peered networks are on different sides of a security boundary (e.g., corpnet v. private vNet), this can lead to exposure of corporate data. Hence any vNet peerings should be closely scrutinized and approved by the network security team</td><td>High</td><td>Yes</td></tr></table>
<table>
</table>
</body></html>
