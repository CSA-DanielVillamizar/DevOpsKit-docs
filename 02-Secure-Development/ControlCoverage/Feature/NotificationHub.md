## IMPORTANT: DevOps Kit (AzSK) is being sunset by end of FY21. More details [here](../../../ReleaseNotes/AzSKSunsetNotice.md)
----------------------------------------------

<html>
<head>

</head><body>
<H2>NotificationHub</H2><table><tr><th>Description & Rationale</th><th>ControlSeverity</th><th>Automated</th><th>Fix Script</th></tr><tr><td><b>Notification Hub must be created through Azure Resource Manager model</b><br/>The new ARM/v2 model must be used to create Notification Hub as the ARM model provides stronger access control (RBAC) and auditing features.</td><td>High</td><td>No</td><td>No</td></tr><tr><td><b>All users/identities must be granted minimum required permissions using Role Based Access Control (RBAC)</b><br/>Granting minimum access by leveraging RBAC feature ensures that users are granted just enough permissions to perform their tasks. This minimizes exposure of the resources in case of user/service account compromise.</td><td>Medium</td><td>Yes</td><td>No</td></tr><tr><td><b>Applications must not use 'namespace' level access policies for the Notification Hub</b><br/>A 'namespace' level access policy provides access to all Notification Hubs in a namespace. However, using an access policy at Notification Hub level provides access only to the specific Notification Hub. Thus using the latter is inline with the principle of least privilege.</td><td>High</td><td>No</td><td>No</td></tr><tr><td><b>Access policies must be defined with minimum required permissions at Notification Hub level</b><br/>Granting minimum access ensures that users are granted just enough permissions to perform their tasks. This minimizes the set of operations that can be preformed on the resource by an attacker in case of access policy key compromise.</td><td>Medium</td><td>No</td><td>No</td></tr><tr><td><b>Access policies on Notification Hub must not have Manage access permissions</b><br/>Manage security claim has the highest level of access (Create/Update/Read/Delete/Read registrations by tag) on Notification Hub. Using this key for runtime scenarios violates the principle of least privileged access. It is akin to running as 'sa' or 'localsystem'.</td><td>High</td><td>Yes</td><td>No</td></tr><tr><td><b>Registration management must not be done from a native client or device app</b><br/>It is not possible to adequately authenticate/authorize registration requests if done directly from the native device app.</td><td>Medium</td><td>No</td><td>No</td></tr><tr><td><b>Message body of a push notification must not contain sensitive data</b><br/>Due to risks of exposure along the path between the backend service and the client device, notifications should not include any sensitive data in the body of the push message.</td><td>High</td><td>No</td><td>No</td></tr><tr><td><b>Developers of applications that use Notification Hubs must not be granted persistent access on the subscription</b><br/>Telemetry data can be accessed using Azure Service Management portal which will need subscription co-administrator permission. This can impose operational risk. Hence a user must not be granted persistent access on the subscription for such a scenario.</td><td>Medium</td><td>No</td><td>No</td></tr><tr><td><b>Audit logs for Notification Hub should be enabled</b><br/>Auditing enables log collection of important system events pertinent to security. Regular monitoring of audit logs can help to detect any suspicious and malicious activity early and respond in a timely manner.</td><td>Medium</td><td>No</td><td>No</td></tr><tr><td><b>Backup and Disaster Recovery must be planned for Notification Hub</b><br/>Notification Hub does not offer features to cover backup/disaster recovery out-of-the-box. As a result, Notification Hub , a team must have adequate backups of the data.</td><td>Medium</td><td>No</td><td>No</td></tr></table>
<table>
</table>
</body></html>
